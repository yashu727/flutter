import 'package:flutter/material.dart';

class ResultScreen extends StatelessWidget {
  final int totalQuestions;
  final int correctAnswers;

  const ResultScreen({required this.totalQuestions, required this.correctAnswers});

  @override
  Widget build(BuildContext context) {
    int wrongAnswers = totalQuestions - correctAnswers;
    double percentage = (correctAnswers / totalQuestions) * 100;

    return Scaffold(
      body: Padding(
        padding: const EdgeInsets.all(20.0),
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            // Round Percentage Circle
            CircleAvatar(
              radius: 70,
              backgroundColor: Colors.green,
              child: Text(
                "${percentage.toStringAsFixed(2)}%",
                style: const TextStyle(
                    color: Colors.white, fontSize: 26, fontWeight: FontWeight.bold),
              ),
            ),
            const SizedBox(height: 20),

            Text(
              percentage >= 50 ? "Passed" : "Failed",
              style: TextStyle(
                  fontSize: 26,
                  fontWeight: FontWeight.bold,
                  color: percentage >= 50 ? Colors.green : Colors.red),
            ),
            const SizedBox(height: 30),

            // Result Summary
            Row(
              mainAxisAlignment: MainAxisAlignment.center,
              children: [
                _box(Colors.blue, "Total Questions", totalQuestions),
                _box(Colors.green, "Correct", correctAnswers),
                _box(Colors.red, "Wrong", wrongAnswers),
              ],
            ),

            const SizedBox(height: 30),

            // Trophy Image if Passed
            if (percentage >= 50)
              Column(
                children: const [
                  Image(
                    image: AssetImage("assets/trophy.png"),
                    height: 140,
                  ),
                  Text(
                    "Congratulations! You are passed.",
                    style: TextStyle(fontSize: 22, fontWeight: FontWeight.bold),
                  ),
                ],
              )
          ],
        ),
      ),
    );
  }

  Widget _box(Color color, String text, int number) {
    return Container(
      margin: const EdgeInsets.symmetric(horizontal: 8),
      padding: const EdgeInsets.all(10),
      decoration: BoxDecoration(
          color: color.withOpacity(0.2),
          borderRadius: BorderRadius.circular(10)),
      child: Column(
        children: [
          Container(width: 20, height: 20, color: color),
          Text("$text", style: const TextStyle(fontSize: 16)),
          Text("$number",
              style: const TextStyle(fontSize: 18, fontWeight: FontWeight.bold))
        ],
      ),
    );
  }
}